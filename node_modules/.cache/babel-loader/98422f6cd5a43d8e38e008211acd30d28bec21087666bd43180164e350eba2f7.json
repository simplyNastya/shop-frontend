{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Desktop/project/shop/shop-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mac/Desktop/project/shop/shop-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk}from'@reduxjs/toolkit';import*as api from'../../services/API/auth';export var register=createAsyncThunk('auth/register',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data,_ref){var rejectWithValue,result,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:rejectWithValue=_ref.rejectWithValue;_context.prev=1;_context.next=4;return api.register(data);case 4:result=_context.sent;return _context.abrupt(\"return\",result);case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);response=_context.t0.response;return _context.abrupt(\"return\",rejectWithValue(response.data));case 12:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}());export var login=createAsyncThunk('auth/login',/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(data,_ref4){var rejectWithValue,result,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:rejectWithValue=_ref4.rejectWithValue;_context2.prev=1;_context2.next=4;return api.login(data);case 4:result=_context2.sent;return _context2.abrupt(\"return\",result);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);response=_context2.t0.response;return _context2.abrupt(\"return\",rejectWithValue(response.data));case 12:case\"end\":return _context2.stop();}},_callee2,null,[[1,8]]);}));return function(_x3,_x4){return _ref5.apply(this,arguments);};}());export var logout=createAsyncThunk('auth/logout',/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(_,_ref7){var rejectWithValue,result,response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:rejectWithValue=_ref7.rejectWithValue;_context3.prev=1;_context3.next=4;return api.logout();case 4:result=_context3.sent;return _context3.abrupt(\"return\",result);case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);response=_context3.t0.response;return _context3.abrupt(\"return\",rejectWithValue(response.data));case 12:case\"end\":return _context3.stop();}},_callee3,null,[[1,8]]);}));return function(_x5,_x6){return _ref8.apply(this,arguments);};}());export var current=createAsyncThunk('auth/current',/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(_,_ref10){var rejectWithValue,getState,_getState,auth,result,response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:rejectWithValue=_ref10.rejectWithValue,getState=_ref10.getState;_context4.prev=1;_getState=getState(),auth=_getState.auth;_context4.next=5;return api.getCurrent(auth.token);case 5:result=_context4.sent;return _context4.abrupt(\"return\",result);case 9:_context4.prev=9;_context4.t0=_context4[\"catch\"](1);response=_context4.t0.response;return _context4.abrupt(\"return\",rejectWithValue(response.data));case 13:case\"end\":return _context4.stop();}},_callee4,null,[[1,9]]);}));return function(_x7,_x8){return _ref11.apply(this,arguments);};}(),{condition:function condition(_,_ref13){var getState=_ref13.getState;var _getState2=getState(),auth=_getState2.auth;if(!auth.token){return false;}}});","map":{"version":3,"names":["createAsyncThunk","api","register","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","_ref","rejectWithValue","result","response","wrap","_callee$","_context","prev","next","sent","abrupt","t0","stop","_x","_x2","apply","arguments","login","_ref5","_callee2","_ref4","_callee2$","_context2","_x3","_x4","logout","_ref8","_callee3","_","_ref7","_callee3$","_context3","_x5","_x6","current","_ref11","_callee4","_ref10","getState","_getState","auth","_callee4$","_context4","getCurrent","token","_x7","_x8","condition","_ref13","_getState2"],"sources":["/Users/mac/Desktop/project/shop/shop-frontend/src/redux/auth/auth-operations.js"],"sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\nimport * as api from '../../services/API/auth';\n\nexport const register = createAsyncThunk(\n  'auth/register', async (data, { rejectWithValue }) => {\n    try { \n      const result = await api.register(data);\n      return result;\n    }\n    catch ({ response }) {\n      return rejectWithValue(response.data)\n    }\n  }\n)\n\nexport const login = createAsyncThunk(\n  'auth/login', async (data, { rejectWithValue }) => {\n    try { \n      const result = await api.login(data);\n      return result;\n    }\n    catch ({ response }) {\n      return rejectWithValue(response.data)\n    }\n  }\n)\n\nexport const logout = createAsyncThunk(\n  'auth/logout', async (_, { rejectWithValue }) => {\n    try { \n      const result = await api.logout();\n      return result;\n    }\n    catch ({ response }) {\n      return rejectWithValue(response.data);\n    }\n  }\n)\n\nexport const current = createAsyncThunk(\n  'auth/current', async (_, { rejectWithValue, getState }) => {\n    try { \n      const { auth } = getState();\n      const result = await api.getCurrent(auth.token);\n      return result;\n    }\n    catch ({ response }) {\n      return rejectWithValue(response.data);\n    }\n},\n  {\n    condition: (_, { getState }) => {\n      const { auth } = getState();\n      if (!auth.token) {\n        return false;\n      }\n    }\n  }\n)"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}