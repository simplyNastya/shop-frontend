{"ast":null,"code":"import { createAsyncThunk } from '@reduxjs/toolkit';\nimport * as api from '../../services/API/auth';\nexport const register = createAsyncThunk('auth/register', async (data, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n  try {\n    const result = await api.register(data);\n    return result;\n  } catch ({\n    response\n  }) {\n    return rejectWithValue(response.data);\n  }\n});\nexport const login = createAsyncThunk('auth/login', async (data, _ref2) => {\n  let {\n    rejectWithValue\n  } = _ref2;\n  try {\n    const result = await api.login(data);\n    return result;\n  } catch ({\n    response\n  }) {\n    return rejectWithValue(response.data);\n  }\n});\nexport const logout = createAsyncThunk('auth/logout', async (_, _ref3) => {\n  let {\n    rejectWithValue\n  } = _ref3;\n  try {\n    const result = await api.logout();\n    return result;\n  } catch ({\n    response\n  }) {\n    return rejectWithValue(response.data);\n  }\n});\nexport const current = createAsyncThunk('auth/current', async (_, _ref4) => {\n  let {\n    rejectWithValue,\n    getState\n  } = _ref4;\n  try {\n    const {\n      auth\n    } = getState();\n    const result = await api.getCurrent(auth.token);\n    return result;\n  } catch ({\n    response\n  }) {\n    return rejectWithValue(response.data);\n  }\n}, {\n  condition: (_, _ref5) => {\n    let {\n      getState\n    } = _ref5;\n    const {\n      auth\n    } = getState();\n    if (!auth.token) {\n      return false;\n    }\n  }\n});","map":{"version":3,"names":["createAsyncThunk","api","register","data","_ref","rejectWithValue","result","response","login","_ref2","logout","_","_ref3","current","_ref4","getState","auth","getCurrent","token","condition","_ref5"],"sources":["/Users/mac/Desktop/project/shop/shop-frontend/src/redux/auth/auth-operations.js"],"sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\nimport * as api from '../../services/API/auth';\n\nexport const register = createAsyncThunk(\n  'auth/register', async (data, { rejectWithValue }) => {\n    try { \n      const result = await api.register(data);\n      return result;\n    }\n    catch ({ response }) {\n      return rejectWithValue(response.data)\n    }\n  }\n)\n\nexport const login = createAsyncThunk(\n  'auth/login', async (data, { rejectWithValue }) => {\n    try { \n      const result = await api.login(data);\n      return result;\n    }\n    catch ({ response }) {\n      return rejectWithValue(response.data)\n    }\n  }\n)\n\nexport const logout = createAsyncThunk(\n  'auth/logout', async (_, { rejectWithValue }) => {\n    try { \n      const result = await api.logout();\n      return result;\n    }\n    catch ({ response }) {\n      return rejectWithValue(response.data);\n    }\n  }\n)\n\nexport const current = createAsyncThunk(\n  'auth/current', async (_, { rejectWithValue, getState }) => {\n    try { \n      const { auth } = getState();\n      const result = await api.getCurrent(auth.token);\n      return result;\n    }\n    catch ({ response }) {\n      return rejectWithValue(response.data);\n    }\n},\n  {\n    condition: (_, { getState }) => {\n      const { auth } = getState();\n      if (!auth.token) {\n        return false;\n      }\n    }\n  }\n)"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,OAAO,KAAKC,GAAG,MAAM,yBAAyB;AAE9C,OAAO,MAAMC,QAAQ,GAAGF,gBAAgB,CACtC,eAAe,EAAE,OAAOG,IAAI,EAAAC,IAAA,KAA0B;EAAA,IAAxB;IAAEC;EAAgB,CAAC,GAAAD,IAAA;EAC/C,IAAI;IACF,MAAME,MAAM,GAAG,MAAML,GAAG,CAACC,QAAQ,CAACC,IAAI,CAAC;IACvC,OAAOG,MAAM;EACf,CAAC,CACD,OAAO;IAAEC;EAAS,CAAC,EAAE;IACnB,OAAOF,eAAe,CAACE,QAAQ,CAACJ,IAAI,CAAC;EACvC;AACF,CACF,CAAC;AAED,OAAO,MAAMK,KAAK,GAAGR,gBAAgB,CACnC,YAAY,EAAE,OAAOG,IAAI,EAAAM,KAAA,KAA0B;EAAA,IAAxB;IAAEJ;EAAgB,CAAC,GAAAI,KAAA;EAC5C,IAAI;IACF,MAAMH,MAAM,GAAG,MAAML,GAAG,CAACO,KAAK,CAACL,IAAI,CAAC;IACpC,OAAOG,MAAM;EACf,CAAC,CACD,OAAO;IAAEC;EAAS,CAAC,EAAE;IACnB,OAAOF,eAAe,CAACE,QAAQ,CAACJ,IAAI,CAAC;EACvC;AACF,CACF,CAAC;AAED,OAAO,MAAMO,MAAM,GAAGV,gBAAgB,CACpC,aAAa,EAAE,OAAOW,CAAC,EAAAC,KAAA,KAA0B;EAAA,IAAxB;IAAEP;EAAgB,CAAC,GAAAO,KAAA;EAC1C,IAAI;IACF,MAAMN,MAAM,GAAG,MAAML,GAAG,CAACS,MAAM,CAAC,CAAC;IACjC,OAAOJ,MAAM;EACf,CAAC,CACD,OAAO;IAAEC;EAAS,CAAC,EAAE;IACnB,OAAOF,eAAe,CAACE,QAAQ,CAACJ,IAAI,CAAC;EACvC;AACF,CACF,CAAC;AAED,OAAO,MAAMU,OAAO,GAAGb,gBAAgB,CACrC,cAAc,EAAE,OAAOW,CAAC,EAAAG,KAAA,KAAoC;EAAA,IAAlC;IAAET,eAAe;IAAEU;EAAS,CAAC,GAAAD,KAAA;EACrD,IAAI;IACF,MAAM;MAAEE;IAAK,CAAC,GAAGD,QAAQ,CAAC,CAAC;IAC3B,MAAMT,MAAM,GAAG,MAAML,GAAG,CAACgB,UAAU,CAACD,IAAI,CAACE,KAAK,CAAC;IAC/C,OAAOZ,MAAM;EACf,CAAC,CACD,OAAO;IAAEC;EAAS,CAAC,EAAE;IACnB,OAAOF,eAAe,CAACE,QAAQ,CAACJ,IAAI,CAAC;EACvC;AACJ,CAAC,EACC;EACEgB,SAAS,EAAEA,CAACR,CAAC,EAAAS,KAAA,KAAmB;IAAA,IAAjB;MAAEL;IAAS,CAAC,GAAAK,KAAA;IACzB,MAAM;MAAEJ;IAAK,CAAC,GAAGD,QAAQ,CAAC,CAAC;IAC3B,IAAI,CAACC,IAAI,CAACE,KAAK,EAAE;MACf,OAAO,KAAK;IACd;EACF;AACF,CACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}