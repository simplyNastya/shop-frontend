{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { register, login, logout, current } from './auth-operations';\nconst initialState = {\n  user: {},\n  token: '',\n  isLogin: false,\n  loading: false,\n  error: null\n};\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: builder => {\n    builder.addCase(register.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(register.fulfilled, (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n      state.loading = false;\n      state.user = payload.user;\n      state.token = payload.token;\n      state.isLogin = true;\n    }).addCase(register.rejected, (state, _ref2) => {\n      let {\n        payload\n      } = _ref2;\n      state.loading = false;\n      state.error = payload;\n    }).addCase(login.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(login.fulfilled, (state, _ref3) => {\n      let {\n        payload\n      } = _ref3;\n      console.log(payload);\n      state.loading = false;\n      state.user = payload.user;\n      state.token = payload.token;\n      state.isLogin = true;\n    }).addCase(login.rejected, (state, _ref4) => {\n      let {\n        payload\n      } = _ref4;\n      state.loading = false;\n      state.error = payload;\n    }).addCase(current.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(current.fulfilled, (state, _ref5) => {\n      let {\n        payload\n      } = _ref5;\n      state.loading = false;\n      state.user = payload;\n      state.isLogin = true;\n    }).addCase(current.rejected, (state, _ref6) => {\n      let {\n        payload\n      } = _ref6;\n      state.loading = false;\n      state.token = '';\n      state.error = payload;\n    }).addCase(logout.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(logout.fulfilled, state => {\n      state.loading = false;\n      state.user = {};\n      state.token = '';\n      state.isLogin = false;\n    }).addCase(logout.rejected, (state, _ref7) => {\n      let {\n        payload\n      } = _ref7;\n      state.loading = false;\n      state.error = payload;\n    });\n  }\n});\nexport default authSlice.reducer;","map":{"version":3,"names":["createSlice","register","login","logout","current","initialState","user","token","isLogin","loading","error","authSlice","name","extraReducers","builder","addCase","pending","state","fulfilled","_ref","payload","rejected","_ref2","_ref3","console","log","_ref4","_ref5","_ref6","_ref7","reducer"],"sources":["/Users/mac/Desktop/project/shop/shop-frontend/src/redux/auth/auth-slice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nimport { register, login, logout, current } from './auth-operations'\n\nconst initialState = {\n    user: {},\n    token: '',\n    isLogin: false,\n    loading: false,\n    error: null,\n}\n\nconst authSlice = createSlice({\n    name: 'auth',\n    initialState,\n    extraReducers: builder => {\n        builder.addCase(register.pending, state => {\n            state.loading = true;\n            state.error = null;\n        })\n        .addCase(register.fulfilled, (state, { payload }) => {\n            state.loading = false;\n            state.user = payload.user;\n            state.token = payload.token;\n            state.isLogin = true;\n        })\n        .addCase(register.rejected, (state, { payload }) => {\n            state.loading = false;\n            state.error = payload;\n        })\n        .addCase(login.pending, state => {\n            state.loading = true;\n            state.error = null;\n        })\n            .addCase(login.fulfilled, (state, { payload }) => {\n            console.log(payload)\n            state.loading = false;\n            state.user = payload.user;\n            state.token = payload.token;\n            state.isLogin = true;\n        })\n        .addCase(login.rejected, (state, { payload }) => {\n            state.loading = false;\n            state.error = payload;\n        })\n        .addCase(current.pending, state => {\n            state.loading = true;\n            state.error = null;\n        })\n            .addCase(current.fulfilled, (state, { payload }) => {\n            state.loading = false;\n            state.user = payload;\n            state.isLogin = true;\n        })\n        .addCase(current.rejected, (state, { payload }) => {\n            state.loading = false;\n            state.token = '';\n            state.error = payload;\n        })\n        .addCase(logout.pending, state => {\n            state.loading = true;\n            state.error = null;\n        })\n        .addCase(logout.fulfilled, (state) => {\n            state.loading = false;\n            state.user = {};\n            state.token = '';\n            state.isLogin = false;\n        })\n        .addCase(logout.rejected, (state, { payload }) => {\n            state.loading = false;\n            state.error = payload;\n        })\n    }\n})\n\nexport default authSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}